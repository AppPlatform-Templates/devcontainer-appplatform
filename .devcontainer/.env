# =============================================================================
# Dev Container Versions Configuration
# =============================================================================
# This file centralizes all version specifications and install flags for
# runtimes, services, and tools used in the DigitalOcean App Platform dev container.
#
# Usage:
# - Set INSTALL_<RUNTIME>=true to enable runtime installation
# - Set INSTALL_<RUNTIME>=false to skip installation (reduces build time)
# - Modify version numbers to pin specific versions
# - This file is used by both Dockerfile and docker-compose.yml

# =============================================================================
# LANGUAGE RUNTIMES
# =============================================================================

# Node.js (installed via NVM)
INSTALL_NODE=true
NVM_VERSION=0.40.3
NODE_VERSIONS=24 22
NODE_DEFAULT_VERSION=24

# Python (installed via UV)
INSTALL_PYTHON=true
PYTHON_VERSIONS=3.12 3.13
PYTHON_DEFAULT_VERSION=3.13

# Golang (installed via official tar.gz)
# Note: Go supports single version only (no multiple versions)
INSTALL_GOLANG=false
GOLANG_VERSION=1.23.4
GOLANG_ARCH=linux-amd64

# Rust (installed via rustup)
# Note: Rust supports single version only (rustup manages toolchains separately)
INSTALL_RUST=false

# =============================================================================
# DATABASE & SERVICE VERSIONS
# =============================================================================

# PostgreSQL (always-on service)
POSTGRES_VERSION=18

# MySQL (optional service via profile)
MYSQL_VERSION=9.5

# MongoDB (optional service via profile)
MONGODB_VERSION=8.2.2-rc0

# Valkey - Redis fork (optional service via profile)
VALKEY_VERSION=9

# =============================================================================
# MESSAGE QUEUE & SEARCH
# =============================================================================

# Apache Kafka + Zookeeper (optional service via profile)
# Using Confluent images - recommended for development
KAFKA_VERSION=7.9.4
ZOOKEEPER_VERSION=7.9.4

# OpenSearch (optional service via profile)
OPENSEARCH_VERSION=2

# =============================================================================
# OBJECT STORAGE
# =============================================================================

# MinIO - S3-compatible storage (always-on service)
MINIO_VERSION=latest

# =============================================================================
# CLI TOOLS & CLIENTS
# =============================================================================
# Note: doctl, plod, codex, and AI CLI tools use 'latest' for backward compatibility
# These are installed at build time without version pinning

# =============================================================================
# DATABASE CLIENTS
# =============================================================================
# PostgreSQL, MySQL clients installed from Ubuntu repos (version determined by Ubuntu 24.04)
# MongoDB shell version (should match or be compatible with MongoDB server version)
MONGOSH_VERSION=8.0

# =============================================================================
# DOCKER COMPOSE PROFILES (Service Control)
# =============================================================================
# This variable controls which services start automatically in dev containers.
# Docker Compose natively reads this environment variable to determine which
# profiles to activate.
#
# How it works:
# - Services with NO profile (postgres, minio, app) ALWAYS start
# - Services WITH profiles ONLY start if their profile is listed here
#
# To enable services, add profile names to this comma-separated list:
# Available profiles: valkey, mysql, kafka, opensearch, mongodb
#
# Examples:
#   COMPOSE_PROFILES=                       # Only defaults (Postgres + MinIO)
#   COMPOSE_PROFILES=valkey,mysql           # + Valkey and MySQL
#   COMPOSE_PROFILES=valkey,kafka,mongodb   # + Multiple services
#   COMPOSE_PROFILES=valkey,mongodb,kafka,opensearch,mysql  # + All services
#
# NOTE: Only enable services you need to avoid overwhelming systems with limited RAM.
# Systems with 8GB RAM or less should keep this minimal.
#
# Default: empty (only Postgres and MinIO start)

COMPOSE_PROFILES=
